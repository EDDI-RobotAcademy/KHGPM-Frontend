{"ast":null,"code":"export default {\n  name: \"TdComponent\",\n  data() {\n    return {\n      game: {\n        propsTurnShape: this.currentTurnShape,\n        propsWinner: ''\n      }\n    };\n  },\n  props: {\n    cellData: String,\n    cellIndex: Number,\n    rowIndex: Number,\n    tableData: Array,\n    currentTurnShape: String\n  },\n  methods: {\n    whichOneSelected() {\n      console.log('오목판을 클릭했습니다!');\n      let isDuplicated = this.setDataToSelectedArray();\n      let win = this.winnerCheck();\n      if (win) {\n        this.game.propsWinner = this.currentTurnShape;\n        this.$emit('updateWinner', this.game.propsWinner);\n        this.$emit('updateTableData');\n      } else {\n        let allCellFull = true;\n        this.tableData.forEach(row => {\n          row.forEach(cell => {\n            if (!cell) {\n              allCellFull = false;\n            }\n          });\n        });\n        if (allCellFull) {\n          this.$emit('updateTableData');\n        }\n      }\n      if (!isDuplicated) {\n        this.changeTurn();\n      }\n    },\n    changeTurn() {\n      this.game.propsTurnShape = this.currentTurnShape === 'O' ? 'X' : 'O';\n      // this.$emit('이벤트명', 값(옵션))\n      this.$emit('updateTurnShape', this.game.propsTurnShape);\n    },\n    setDataToSelectedArray() {\n      // this.tableData[this.rowIndex]: 사용자가 클릭한 행 정보\n      // this.cellIndex: 사용자가 클릭한 '행'내 열 정보\n      // this.currentTurnShape: 현재 턴('x', 'o')\n      // this.$set(행, 열, 값) -> 특정[행][열] = 값\n      if (this.tableData[this.rowIndex][this.cellIndex] !== '') {\n        return true;\n      }\n      this.$set(this.tableData[this.rowIndex], this.cellIndex, this.currentTurnShape);\n      return false;\n    },\n    winnerCheck() {\n      if (this.tableData[this.rowIndex][0] === this.currentTurnShape && this.tableData[this.rowIndex][1] === this.currentTurnShape && this.tableData[this.rowIndex][2] === this.currentTurnShape && this.tableData[this.rowIndex][3] === this.currentTurnShape && this.tableData[this.rowIndex][4] === this.currentTurnShape) {\n        return true;\n      } else if (this.tableData[0][this.cellIndex] === this.currentTurnShape && this.tableData[1][this.cellIndex] === this.currentTurnShape && this.tableData[2][this.cellIndex] === this.currentTurnShape && this.tableData[3][this.cellIndex] === this.currentTurnShape && this.tableData[4][this.cellIndex] === this.currentTurnShape) {\n        return true;\n      } else if (this.tableData[0][0] === this.currentTurnShape && this.tableData[1][1] === this.currentTurnShape && this.tableData[2][2] === this.currentTurnShape && this.tableData[3][3] === this.currentTurnShape && this.tableData[4][4] === this.currentTurnShape) {\n        return true;\n      } else if (this.tableData[0][4] === this.currentTurnShape && this.tableData[1][3] === this.currentTurnShape && this.tableData[2][2] === this.currentTurnShape && this.tableData[3][1] === this.currentTurnShape && this.tableData[4][0] === this.currentTurnShape) {\n        return true;\n      }\n      return false;\n    }\n  }\n};","map":{"version":3,"names":["name","data","game","propsTurnShape","currentTurnShape","propsWinner","props","cellData","String","cellIndex","Number","rowIndex","tableData","Array","methods","whichOneSelected","console","log","isDuplicated","setDataToSelectedArray","win","winnerCheck","$emit","allCellFull","forEach","row","cell","changeTurn","$set"],"sources":["src/components/lecture/emitTest/TdComponent.vue"],"sourcesContent":["<template>\n    <td @click=\"whichOneSelected\" style=\"width: 30px; height: 30px\">\n      {{ cellData }}\n    </td>\n  </template>\n  \n  <script>\n  \n  export default {\n      name: \"TdComponent\",\n      data () {\n          return {\n              game: {\n                  propsTurnShape: this.currentTurnShape,\n                  propsWinner: '',\n              }\n          }\n      },\n      props: {\n          cellData: String,\n          cellIndex: Number,\n          rowIndex: Number,\n          tableData: Array,\n          currentTurnShape: String,\n      },\n      methods: {\n          whichOneSelected () {\n              console.log('오목판을 클릭했습니다!')\n  \n              let isDuplicated = this.setDataToSelectedArray()\n              let win = this.winnerCheck()\n  \n              if (win) {\n                  this.game.propsWinner = this.currentTurnShape\n  \n                  this.$emit('updateWinner', this.game.propsWinner)\n                  this.$emit('updateTableData')\n              } else {\n                  let allCellFull = true\n  \n                  this.tableData.forEach(row => {\n                      row.forEach(cell => {\n                          if (!cell) {\n                              allCellFull = false\n                          }\n                      })\n                  })\n  \n                  if (allCellFull) { this.$emit('updateTableData') }\n              }\n  \n              if (!isDuplicated) { this.changeTurn() }\n          },\n          changeTurn () {\n              this.game.propsTurnShape = this.currentTurnShape === 'O' ? 'X' : 'O'\n              // this.$emit('이벤트명', 값(옵션))\n              this.$emit('updateTurnShape', this.game.propsTurnShape)\n          },\n          setDataToSelectedArray () {\n              // this.tableData[this.rowIndex]: 사용자가 클릭한 행 정보\n              // this.cellIndex: 사용자가 클릭한 '행'내 열 정보\n              // this.currentTurnShape: 현재 턴('x', 'o')\n              // this.$set(행, 열, 값) -> 특정[행][열] = 값\n              if (this.tableData[this.rowIndex][this.cellIndex] !== '') { return true }\n  \n              this.$set(this.tableData[this.rowIndex], this.cellIndex, this.currentTurnShape)\n              return false\n          },\n          winnerCheck () {\n              if (\n                  this.tableData[this.rowIndex][0] === this.currentTurnShape &&\n                  this.tableData[this.rowIndex][1] === this.currentTurnShape &&\n                  this.tableData[this.rowIndex][2] === this.currentTurnShape &&\n                  this.tableData[this.rowIndex][3] === this.currentTurnShape &&\n                  this.tableData[this.rowIndex][4] === this.currentTurnShape\n              ) {\n                  return true\n              } else if (\n                  this.tableData[0][this.cellIndex] === this.currentTurnShape &&\n                  this.tableData[1][this.cellIndex] === this.currentTurnShape &&\n                  this.tableData[2][this.cellIndex] === this.currentTurnShape &&\n                  this.tableData[3][this.cellIndex] === this.currentTurnShape &&\n                  this.tableData[4][this.cellIndex] === this.currentTurnShape\n              ) {\n                  return true\n              } else if (\n                  this.tableData[0][0] === this.currentTurnShape &&\n                  this.tableData[1][1] === this.currentTurnShape &&\n                  this.tableData[2][2] === this.currentTurnShape &&\n                  this.tableData[3][3] === this.currentTurnShape &&\n                  this.tableData[4][4] === this.currentTurnShape\n              ) {\n                  return true\n              } else if (\n                  this.tableData[0][4] === this.currentTurnShape &&\n                  this.tableData[1][3] === this.currentTurnShape &&\n                  this.tableData[2][2] === this.currentTurnShape &&\n                  this.tableData[3][1] === this.currentTurnShape &&\n                  this.tableData[4][0] === this.currentTurnShape\n              ) {\n                  return true\n              }\n  \n              return false\n          }\n      }\n  }\n  \n  </script>\n  \n  <style>\n  \n  </style>"],"mappings":"AAQA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;QACAC,cAAA,OAAAC,gBAAA;QACAC,WAAA;MACA;IACA;EACA;EACAC,KAAA;IACAC,QAAA,EAAAC,MAAA;IACAC,SAAA,EAAAC,MAAA;IACAC,QAAA,EAAAD,MAAA;IACAE,SAAA,EAAAC,KAAA;IACAT,gBAAA,EAAAI;EACA;EACAM,OAAA;IACAC,iBAAA;MACAC,OAAA,CAAAC,GAAA;MAEA,IAAAC,YAAA,QAAAC,sBAAA;MACA,IAAAC,GAAA,QAAAC,WAAA;MAEA,IAAAD,GAAA;QACA,KAAAlB,IAAA,CAAAG,WAAA,QAAAD,gBAAA;QAEA,KAAAkB,KAAA,sBAAApB,IAAA,CAAAG,WAAA;QACA,KAAAiB,KAAA;MACA;QACA,IAAAC,WAAA;QAEA,KAAAX,SAAA,CAAAY,OAAA,CAAAC,GAAA;UACAA,GAAA,CAAAD,OAAA,CAAAE,IAAA;YACA,KAAAA,IAAA;cACAH,WAAA;YACA;UACA;QACA;QAEA,IAAAA,WAAA;UAAA,KAAAD,KAAA;QAAA;MACA;MAEA,KAAAJ,YAAA;QAAA,KAAAS,UAAA;MAAA;IACA;IACAA,WAAA;MACA,KAAAzB,IAAA,CAAAC,cAAA,QAAAC,gBAAA;MACA;MACA,KAAAkB,KAAA,yBAAApB,IAAA,CAAAC,cAAA;IACA;IACAgB,uBAAA;MACA;MACA;MACA;MACA;MACA,SAAAP,SAAA,MAAAD,QAAA,OAAAF,SAAA;QAAA;MAAA;MAEA,KAAAmB,IAAA,MAAAhB,SAAA,MAAAD,QAAA,QAAAF,SAAA,OAAAL,gBAAA;MACA;IACA;IACAiB,YAAA;MACA,IACA,KAAAT,SAAA,MAAAD,QAAA,cAAAP,gBAAA,IACA,KAAAQ,SAAA,MAAAD,QAAA,cAAAP,gBAAA,IACA,KAAAQ,SAAA,MAAAD,QAAA,cAAAP,gBAAA,IACA,KAAAQ,SAAA,MAAAD,QAAA,cAAAP,gBAAA,IACA,KAAAQ,SAAA,MAAAD,QAAA,cAAAP,gBAAA,EACA;QACA;MACA,WACA,KAAAQ,SAAA,SAAAH,SAAA,WAAAL,gBAAA,IACA,KAAAQ,SAAA,SAAAH,SAAA,WAAAL,gBAAA,IACA,KAAAQ,SAAA,SAAAH,SAAA,WAAAL,gBAAA,IACA,KAAAQ,SAAA,SAAAH,SAAA,WAAAL,gBAAA,IACA,KAAAQ,SAAA,SAAAH,SAAA,WAAAL,gBAAA,EACA;QACA;MACA,WACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,EACA;QACA;MACA,WACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,IACA,KAAAQ,SAAA,gBAAAR,gBAAA,EACA;QACA;MACA;MAEA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}